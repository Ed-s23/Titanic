{% load static %}
<!doctype html>
<html lang="es">
<head>
  
  <link rel="stylesheet" href="{% static 'css/style.css' %}">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Titanic - Predicción</title>
</head>
<body>
  <main>
    <h1>¿Sobrevivirías al Titanic?</h1>

    <form method="post" action="{% url 'predict' %}">
      {% csrf_token %}

      <label>Clase:
        <input name="Pclass" type="number" value="3" min="1" max="3" required>
      </label>

      <label>Género:
        <select name="Sex" required>
          <option value="male">Masculino</option>
          <option value="female">Femenino</option>
        </select>
      </label>

      <label>Edad:
        <input name="Age" type="number" step="0.1" required>
      </label>

      <label>Hermanos a bordo:
        <input name="SibSp" type="number" value="0" required>
      </label>

      <label>Padres/hijos a bordo:
        <input name="Parch" type="number" value="0" required>
      </label>

      <label>Costo del boleto (£):
        <input name="Fare" type="number" step="0.01" value="0.0" required>
      </label>

      <label>Puerto de embarque:
        <select name="Embarked" required>
          <option value="S">Southampton</option>
          <option value="C">Cherbourg</option>
          <option value="Q">Queenstown</option>
        </select>
      </label>

      <button type="submit">Revisar</button>
    </form>

    {% if result %}
      <section class="result {% if result.pred == 1 %}survived{% else %}not-survived{% endif %}">
        {% if result.pred == 1 %}
          
          <h2>¡Si sobreviviste sjjsjsj :)!</h2>
        {% else %}
          
          <h2>Ups..no sobreviviste :(</h2>
        {% endif %}
        <p>Probabilidad: {{ result.probability|floatformat:2 }}%</p>

        </p>
      </section>
    {% endif %}
  </main>
</body>
</html>
